
<!DOCTYPE html>
<html lang="en">
    <head>
    
        <title>FairyGUI - Controller</title>
    
        <meta charset="utf-8">
        <meta name="description" content="FairyGUI Docs">
        <meta name="keywords" content="FairyGUI,FGUI,FairyGUI Docs">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="-ControllerFairyGUI">
        <meta property="og:description" content="FairyGUI Docs">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Controller — FairyGUI">
        <meta name="twitter:description" content="FairyGUI Docs">

      <!--  <link href='//fonts.proxy.ustclug.org/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'> -->

        <!-- main page styles -->
        <link rel="stylesheet" href="/docs/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/docs/js/vue.min.js"></script>
        <script>window.PAGE_TYPE = "guide_editor"</script>
    </head>
    <body class="docs">        <div id="mobile-bar"  data-bg-text="FairyGUI" >
            <a class="menu-button"></a>
        </div>
        <div id="header">
  <ul id="nav">
    <li><a href="/docs/guide/" class="nav-link current">Manual</a></li>
<li><a href="/docs/examples/" class="nav-link">Examples</a></li>
<li><a href="/docs/release_notes/" class="nav-link">Release Notes</a></li>
<li><a href="/" class="nav-link">Home</a></li>
  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/docs/guide/" class="nav-link current">Manual</a></li>
<li><a href="/docs/examples/" class="nav-link">Examples</a></li>
<li><a href="/docs/release_notes/" class="nav-link">Release Notes</a></li>
<li><a href="/" class="nav-link">Home</a></li>
    </ul>
    <div class="list">
        <ul class="menu-root">
            

	 			
	                
	                <li>
	                    <a href="/docs/guide/index.html" class="sidebar-link">Getting Start</a>
	                </li>
	            
	
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/index.html" class="sidebar-link">Basis</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/project_settings.html" class="sidebar-link">Project Settings</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/package.html" class="sidebar-link">Package</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/branch.html" class="sidebar-link">Branch</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/publish.html" class="sidebar-link">Publish</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/object.html" class="sidebar-link">Object</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/image.html" class="sidebar-link">Image</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/movieclip.html" class="sidebar-link">MovieClip</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/graph.html" class="sidebar-link">Graph</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/loader.html" class="sidebar-link">Loader</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/text.html" class="sidebar-link">Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/richtext.html" class="sidebar-link">Rich Text</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/group.html" class="sidebar-link">Group</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/component.html" class="sidebar-link">Component</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/scrollpane.html" class="sidebar-link">ScrollPane</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/controller.html" class="sidebar-link current">Controller</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/relation.html" class="sidebar-link">Relation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/label.html" class="sidebar-link">Label</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/button.html" class="sidebar-link">Button</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/combobox.html" class="sidebar-link">ComboBox</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/progressbar.html" class="sidebar-link">ProgressBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/slider.html" class="sidebar-link">Slider</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/scrollbar.html" class="sidebar-link">ScrollBar</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/list.html" class="sidebar-link">List</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/tree.html" class="sidebar-link">Tree</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/popup.html" class="sidebar-link">Popup</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/dragdrop.html" class="sidebar-link">Drag&Drop</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/window.html" class="sidebar-link">Window</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/transition.html" class="sidebar-link">Transition</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/adaptation.html" class="sidebar-link">Adaptation</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/i18n.html" class="sidebar-link">i18n</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/export.html" class="sidebar-link">Import/Export</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/preference.html" class="sidebar-link">Preference</a>
	                </li>
	            
	                
	                <li>
	                    <a href="/docs/guide/editor/plugin.html" class="sidebar-link">Plugin</a>
	                </li>
	            
	
	            
	                
	                
	                <li><h3>SDK</h3></li>
	                
	                <li>
	                    <a href="/docs/guide/sdk/laya.html" class="sidebar-link">LayaAir</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/egret.html" class="sidebar-link">Egret</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/cocos2dx.html" class="sidebar-link">Cocos2dx</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/creator.html" class="sidebar-link">Cocos Creator</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/sdk/cryengine.html" class="sidebar-link">Cry Engine</a>
	                </li>
	            

	            
	                
	                
	                <li><h3>SDK - Unity</h3></li>
	                
	                <li>
	                    <a href="/docs/guide/unity/index.html" class="sidebar-link">Basis</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/transform.html" class="sidebar-link">Transform</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/atlas.html" class="sidebar-link">Atlas</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/font.html" class="sidebar-link">Fonts</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/input.html" class="sidebar-link">Input</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/event.html" class="sidebar-link">Event</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/insert3d.html" class="sidebar-link">Insert 3D</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/uipainter.html" class="sidebar-link">Curved UI</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/drawcall.html" class="sidebar-link">DrawCall</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/lua.html" class="sidebar-link">Lua</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/special.html" class="sidebar-link">Special</a>
	                </li>
	            
	                
	                
	                <li>
	                    <a href="/docs/guide/unity/faq.html" class="sidebar-link">FAQ</a>
	                </li>
	            

            
        </ul>
    </div>
</div>


<div class="content guide_editor with-sidebar ">
    
      <h1>Controller</h1>
    
    <p>The controller is one of the core functions of FairyGUI, which provides support for the following similar requirements in UI production:</p>
<ul>
<li><p>Pagination A component can consist of multiple pages.</p>
</li>
<li><p>Button states Buttons usually have multiple states such as pressed and mouse hover. We can use the controller to arrange different display contents for each state.</p>
</li>
<li><p>Attribute change With the controller, we can make the component have multiple different shapes, and can easily switch.</p>
</li>
</ul>
<h2 id="Controller-design"><a href="#Controller-design" class="headerlink" title="Controller design"></a>Controller design</h2><p>Each component can create one or more controllers, as shown in the following figure:</p>
<p><img src="../../images/QQ20191211-121854.png" alt=""></p>
<ol>
<li>Click the controller name to display the controller design interface.</li>
<li>Click the controller page button to switch pages.</li>
<li>Add controller.</li>
</ol>
<p>The controller design page is as follows:</p>
<p><img src="../../images/QQ20191211-122014.png" alt=""></p>
<ul>
<li><p><code>name</code>The name of the controller. Do not use the same name for controllers in the same component.</p>
</li>
<li><p><code>Remark name</code>Controller’s remark name for better understanding.</p>
</li>
<li><p><code>Home</code>The default page after the controller is created.</p>
<ul>
<li><code>First page</code>This is the default value. Generally, after the controller is created, it is on the first page (the page with index 0).</li>
<li><code>Specify page</code>You can specify a page.</li>
<li><code>Match branch name</code>Jump to a page with the same name as the active branch. Assuming the name of page 3 is en and the current branch is en, the controller will automatically jump to page 3 after the controller is created.</li>
<li><p><code>Match variable name</code>Jump to a page with the same name as the specified variable value. See the following example:</p>
<p> <img src="../../images/QQ20191211-134436.png" alt=""></p>
<p> In the editor, variables can be defined in “Project Settings-&gt; Custom Properties”. <strong>In the code, variables need to be defined through UIPackage.SetVar.</strong></p>
</li>
</ul>
</li>
<li><p><code>Export as component properties</code>When checked, this controller will be displayed on the component’s custom properties panel when the component is instantiated in the editor. See the following example:</p>
<p> <img src="../../images/QQ20191211-134850.png" alt=""></p>
<p> <img src="../../images/QQ20191211-134931.png" alt=""></p>
<p> It can be seen that the attribute name uses the controller’s “Remark Name”. If the “Remark Name” is empty, the controller name is used.</p>
</li>
<li><p><code>Automatically adjust radio group object hierarchy</code>When checked, all radio buttons in the component that are controlled by this controller are automatically adjusted to the front of other buttons. For example, the 3 buttons overlap each other. When this option is not checked, the effect is as shown on the left, and when checked, the effect is shown as the right:</p>
<p> <img src="../../images/20170802231656.png" alt=""> <img src="../../images/20170802231712.png" alt=""></p>
</li>
<li><p><code>Page management</code>Add, insert, delete pages, and adjust page order.</p>
<p> <img src="../../images/QQ20191211-135229.png" alt=""></p>
</li>
<li><p><code>Button template</code>Click<img src="../../images/QQ20191211-135449.png" alt="">This is a way to quickly create a button controller. After selecting a button page mode in the pop-up menu, the name of the controller automatically becomes “button”, and then the pages included in the template are automatically added.</p>
</li>
<li><p><code>action</code>You can define a series of actions to be performed when the page is switched. Please refer to details<a href="#Controller-action">Controller action</a>。</p>
</li>
</ul>
<h2 id="Controller-action"><a href="#Controller-action" class="headerlink" title="Controller action"></a>Controller action</h2><p>You can define a series of actions to be performed when the page is switched.</p>
<p><img src="../../images/QQ20191211-135643.png" alt=""></p>
<p>Currently supports two actions, playing transition and switching pages.</p>
<ol>
<li><p>Play transition: Specifies to play an transition when the page changes. Click<img src="../../images/QQ20191211-161858.png" alt="">Make finer settings:</p>
<p><img src="../../images/QQ20191211-135920.png" alt=""></p>
<ul>
<li><p><code>repeat times</code>Set the number of transitions. -1 means loop playback.</p>
</li>
<li><p><code>delay</code>Sets how many seconds the transition is delayed to start playback.</p>
</li>
<li><p><code>Stop when leaving the page</code>If the transition is still playing when you leave the page, check this option to forcibly stop the transition. If you don’t check this, the transition will continue to play until it stops (if it is a loop, it will never stop).</p>
</li>
</ul>
</li>
<li><p>Switch page: You can switch other controllers to realize the linkage function of one controller. You can even set the controller of a child component, provided that the controller of the child component is already set to “Export as component property”. The target page has two special<br>Options:<code>Pages with the same index``And a page of the same name</code>。 With this special option, the two controllers can be fully synchronized.</p>
</li>
</ol>
<h2 id="Attribute-control"><a href="#Attribute-control" class="headerlink" title="Attribute control"></a>Attribute control</h2><p>After creating the controller, here’s how to use the controller. The controller works by controlling the properties of each component.</p>
<p>Select a component on the stage, you can see the “Properties Control” panel appears in the right property bar:</p>
<p><img src="../../images/QQ20191211-140114.png" alt=""></p>
<h3 id="Display-control"><a href="#Display-control" class="headerlink" title="Display control"></a>Display control</h3><p>The display control indicates that the component is displayed only when the active page of the controller belongs to one of the participating pages, otherwise it is not displayed. If the participation page is empty, the display control has no effect and the component will always be displayed.</p>
<p>Set the display control mode:</p>
<p><img src="../../images/QQ20191211-140327.png" alt=""></p>
<p>Select the controller on the left and check the participation page on the right.</p>
<p>Remarks:</p>
<ol>
<li><p>The display control does not use the visible property of the component itself. The two are independent. Whether they are visible in the end is the logical result of the AND logic.</p>
</li>
<li><p>When the component is not visible, it will not be removed from the display list of the container (GComponent), but the underlying layer of FairyGUI will handle it so that invisible components do not take up rendering resources. The display list that is not disturbed by the controller ensures that the required components can be accessed at any time through GetChild.</p>
</li>
<li><p>If necessary, you can display the<img src="../../images/hierarchytb_03.png" alt="">Shield display controller.</p>
<p>Suppose there are now two components A and B, both using display controls, and they are displayed on different pages. Now I want to align them, this is obviously not possible, because they will not be displayed at the same time, then they can only fill in their coordinates manually, or cancel the display control, align it and set it back. This is obviously too cumbersome, and the editor has taken this into account for you.</p>
<p>After clicking “Shield Controller”, all the components hidden by the controller can be displayed, you can easily apply the alignment, or select these components for batch operations.</p>
<p>This function only assists UI editing, so it is only effective at design time, and there is no shielding function in actual operation.</p>
</li>
</ol>
<h3 id="Display-Control-2"><a href="#Display-Control-2" class="headerlink" title="Display Control-2"></a>Display Control-2</h3><p>Display control-2 is generally used in conjunction with display control. It can achieve the needs of two controllers to control the display of a component. It also provides a logical relationship option, you can choose “AND” or “OR”.</p>
<p><img src="../../images/QQ20191211-140706.png" alt=""></p>
<h3 id="Position-control"><a href="#Position-control" class="headerlink" title="Position control"></a>Position control</h3><p>Position control means that the component can have different XY coordinates in different controller pages.</p>
<p>After setting the controller, on different controller pages, you can adjust the X and Y attribute values of the target component. The editor will automatically record the attribute values of the component on different pages without additional operations.</p>
<p>Position control supports transition effects. Selected<img src="../../images/QQ20191211-142518.png" alt="">Later, when the controller page changes, the component does not set new coordinates immediately, but uses an easing to reach the new value. Click<img src="../../images/QQ20191211-142602.png" alt="">You can set the easing parameters:</p>
<p><img src="../../images/QQ20191211-142615.png" alt=""></p>
<ul>
<li><code>duration</code>Duration of the entire easing process, in seconds.</li>
<li><code>delay</code>After the controller page is switched, delay for a certain time before starting easing. Unit of second.</li>
<li><code>Easing function</code>Time / speed curve. Please refer to details<a href="../../images/20170802000005.jpg">Graphic</a> <a href="https://greensock.com/ease-visualizer" target="_blank" rel="external">Example</a>。</li>
</ul>
<p>The position controller supports the use of percentages to record coordinates. Selected<img src="../../images/QQ20191211-145146.png" alt="">Later, the coordinate values will be recorded using percentages. For example, when the component is placed at the horizontal center of the component, the x value is recorded as 50%. When the component size is changed, the coordinates of the components after switching the controller page are still the center, that is, 50% of the position.</p>
<p><strong>Relationship between position control and correlation system</strong></p>
<p>Assume that the controller C1 has two pages P1 and P2, and the component N is now set to position control. The coordinates on the page P1 are V1 (50, 50) and the coordinates on the page P2 are V2 (100, 100). Element N sets the right-to-right relation relationship with the container component. The controller is now on page P1 with coordinates (50, 50).</p>
<p>Now the size of the container component changes, the coordinate of the component N is modified to (70, 70) by the correlation system, at this time V1 is updated to (70, 70), and V2 is also automatically updated to (120, 120). <strong>In other words, the actions of the correlation system are applied to the coordinates saved on all pages.</strong></p>
<h3 id="Size-control"><a href="#Size-control" class="headerlink" title="Size control"></a>Size control</h3><p>Size control means that the component can have different width and height and Scale values in different controller pages.</p>
<p>After setting the controller, on different controller pages, you can adjust the width, height, ScaleX, and ScaleY property values of the target component, and the editor will automatically record the component property values on different pages.</p>
<p>The size control supports transition effects. The setting method of easing is the same as that of position control, please refer to position control.</p>
<h3 id="Color-control"><a href="#Color-control" class="headerlink" title="Color control"></a>Color control</h3><p>Color control means that the component can have different colors in different controller pages. Only image components (corresponding to the color setting of the image), text / rich text components (corresponding to the color of the text), and loader components (corresponding to the color changing settings of the loaded image or transition) support color control.</p>
<p>After setting the controller, in different controller pages, you can adjust the color value of the target component, and the editor will automatically record the attribute values of the component on different pages.</p>
<p>Color controls support transition effects. The setting method of easing is the same as that of position control, please refer to position control.</p>
<h3 id="Look-control"><a href="#Look-control" class="headerlink" title="Look control"></a>Look control</h3><p>Appearance control refers to the different controller pages of the element that can have different transparency, graying, rotation, and non-touch properties.</p>
<p>After setting the controller, you can adjust the transparency, graying, rotation, and non-touchable property values of the target component on different controller pages. The editor will automatically record the component’s property values on different pages.</p>
<p>Appearance controls support transition effects. But only transparency and rotation participate in easing, graying and untouchable are set immediately. The setting method of easing is the same as that of position control, please refer to position control.</p>
<h3 id="Text-control"><a href="#Text-control" class="headerlink" title="Text control"></a>Text control</h3><p>Text control means that the component can have different text in different controller pages. Only text / rich text components (corresponding to the color of the text), label components, button components, and drop-down box components support text control.</p>
<p>After setting the controller, in different controller pages, you can adjust the text or title attributes of the target component, and the editor will automatically record the attribute values of the component on different pages.</p>
<h3 id="Icon-control"><a href="#Icon-control" class="headerlink" title="Icon control"></a>Icon control</h3><p>Icon control means that the component can have different icons in different controller pages. Only loader components, label components, and button components support icon control.</p>
<p>After setting the controller, on different controller pages, you can adjust the URL or icon properties of the target component, and the editor will automatically record the property values of the component on different pages.</p>
<h3 id="transition-control"><a href="#transition-control" class="headerlink" title="transition control"></a>transition control</h3><p>transition control means that the component can have different transition-related settings in different controller pages. Only transition and loader support transition control.</p>
<p>After setting the controller, you can adjust the “play” and “frame” properties of the target component on different controller pages, and the editor will automatically record the property values of the component on different pages.</p>
<h3 id="Font-size-control"><a href="#Font-size-control" class="headerlink" title="Font size control"></a>Font size control</h3><p>Font size means that the component can have different font sizes in different controller pages. Only text, rich text, labels, and buttons support font size control.</p>
<p>After setting the controller, you can adjust the “font size” property of the target component on different controller pages, and the editor will automatically record the property values of the component on different pages.</p>
<h2 id="Linkage-with-button"><a href="#Linkage-with-button" class="headerlink" title="Linkage with button"></a>Linkage with button</h2><p>The controller can be linked with the buttons. When the normal button is pressed, or the radio / check button selection status changes, the controller’s page changes accordingly. Select a button component. In the “connection” property setting on the right, you can set a controller and a page for the controller:</p>
<p><img src="../../images/QQ20191211-145553.png" alt=""></p>
<p>After the setting is completed, there will be different reactions depending on the type of button:</p>
<ul>
<li><p>Normal button When the button is clicked, the controller goes to the specified page.</p>
</li>
<li><p>Radio button When the state of the button changes from unselected to selected, the controller jumps to the specified page.<br>When the controller switches from another page to the specified page, the button becomes selected.<br>When the controller switches from the specified page to another page, the button becomes unselected.</p>
<p> This feature is generally used to implement radio groups<br>Suppose there are currently 3 radio buttons, they are mutually exclusive, that is, only one button is selected at the same time. Such designs are often called radio groups. We can create a controller with 3 pages, and connect the radio control of each button to the 3 pages of this controller respectively to achieve this radio group.</p>
<p> <img src="../../images/QQ20191211-145638.png" alt=""></p>
<p> In the program, it is also very easy to get or set which button is selected, using the controller’s selectedIndex or selectedPage method.</p>
<p> If the attribute control of other components is bound to this controller, such as arranging various UI content using display controls to various pages, then a traditional TabControl is also implemented. FairyGUI does not have TabControl, RadioGroup and other composite components, because FairyGUI gives you all the design freedom, no need to solidify the components.</p>
<p> If the number of buttons in your radio group is uncertain, or there are many, you can also use the list method. A list whose selection mode is “single choice” is the same as a single choice group. Please read the list tutorial for details.</p>
</li>
<li><p>Check button When the state of the button changes from unselected to selected, the controller jumps to the specified page.<br>When the button status changes from selected to unselected, the controller jumps to a page other than the specified page. For example, if the controller has pages 0 and 1, and the specified page is 0, when the button status changes from selected to unselected, the controller jumps to page 1.<br>When the controller switches from other pages to the specified page, the button becomes selected;<br>When the controller switches from the specified page to another page, the button becomes unselected.</p>
</li>
</ul>
<h2 id="Link-with-list"><a href="#Link-with-list" class="headerlink" title="Link with list"></a>Link with list</h2><p>The “selection control” of the list can be bound to a controller:</p>
<p><img src="../../images/QQ20191211-145743.png" alt=""></p>
<p>In this way, when the list selection changes, the controller also jumps to the page with the same index at the same time. Vice versa, if the controller jumps to a certain page, the list also selects the items with the same index at the same time.</p>
<h2 id="Linking-with-page-scrolling"><a href="#Linking-with-page-scrolling" class="headerlink" title="Linking with page scrolling"></a>Linking with page scrolling</h2><p>Components or lists whose overflow processing is “scrolling”. If scrolling is also set to “page mode”, you can specify a “paging control” for them.</p>
<p><img src="../../images/QQ20191211-145802.png" alt=""></p>
<p>In this way, when the page is scrolled, the controller also jumps to the page with the same index. Vice versa, if the controller jumps to a page, the scroll container scrolls to the same index page at the same time.</p>
<h2 id="Linkage-with-the-drop-down-box"><a href="#Linkage-with-the-drop-down-box" class="headerlink" title="Linkage with the drop-down box"></a>Linkage with the drop-down box</h2><p>The “select control” of the drop-down box can be bound to a controller:</p>
<p><img src="../../images/QQ20191211-145743.png" alt=""></p>
<p>In this way, when the drop-down box selection changes, the controller also jumps to the page with the same index at the same time. Vice versa, if the controller jumps to a certain page, the drop-down box also selects the item with the same index at the same time.</p>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>When running, the APIs commonly used by controllers are:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">Controller c1 = aComponent.GetController (<span class="string">"c1"</span>);</div><div class="line">    </div><div class="line">    <span class="comment">// Set the controller's active page by index</span></div><div class="line">    c1.selectedIndex = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="comment">// If you do not want to trigger the Change event when you change the controller</span></div><div class="line">    c1.setSelectedIndex (<span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="comment">// can also be set using the name of the page</span></div><div class="line">    c1.selectedPage = <span class="string">"page_name"</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Get the current active page of the controller</span></div><div class="line">    Debug.Log (c1.selectedIndex);</div></pre></td></tr></table></figure>
<p>There are notification events when the controller changes:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Unity/Cry/MonoGame</span></div><div class="line">    c1.onChanged.Add(onChanged);</div><div class="line"></div><div class="line">    <span class="comment">//AS3</span></div><div class="line">    c1.addEventListener(StateChangeEvent.CHANGED, onChanged);</div><div class="line"></div><div class="line">    <span class="comment">//Egret</span></div><div class="line">    c1.addEventListener(StateChangeEvent.CHANGED, <span class="keyword">this</span>.onChanged, <span class="keyword">this</span>);</div><div class="line"></div><div class="line">    <span class="comment">//Laya</span></div><div class="line">    c1.<span class="keyword">on</span>(fairygui.Events.STATE_CHANGED, <span class="keyword">this</span>, <span class="keyword">this</span>.onChanged);</div><div class="line"></div><div class="line">    <span class="comment">//Cocos2dx</span></div><div class="line">    c1-&gt;addEventListener(UIEventType::Changed, CC_CALLBACK_1(AClass::onChanged, this));</div><div class="line"></div><div class="line">    <span class="comment">//CocosCreator</span></div><div class="line">    c1.<span class="keyword">on</span>(fgui.Event.STATUS_CHANGED, <span class="keyword">this</span>.onChanged, <span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<p>When changing the controller page, the property control connected to it may have easing. If you want to be notified of the end of the easing, you can listen to the GearStop event:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Unity/Cry/MonoGame</span></div><div class="line">    aObject.OnGearStop.Add(OnGearStop);</div><div class="line"></div><div class="line">    <span class="comment">//Egret</span></div><div class="line">    c1.addEventListener(GObject.GEAR_STOP, <span class="keyword">this</span>.onGearStop, <span class="keyword">this</span>);</div><div class="line"></div><div class="line">    <span class="comment">//Laya</span></div><div class="line">    c1.<span class="keyword">on</span>(fairygui.Events.GEAR_STOP, <span class="keyword">this</span>, <span class="keyword">this</span>.onGearStop);</div><div class="line"></div><div class="line">    <span class="comment">//Cocos2dx</span></div><div class="line">    c1-&gt;addEventListener(UIEventType::GearStop, CC_CALLBACK_1(AClass::OnGearStop, this));</div><div class="line"></div><div class="line">    <span class="comment">//CocosCreator</span></div><div class="line">    c1.<span class="keyword">on</span>(fgui.Event.GEAR_STOP, <span class="keyword">this</span>.onGearStop, <span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<p>If you are initializing the interface, you may not want any easing. This can be done:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Prohibit easing caused by all controllers</span></div><div class="line">    GearBase.disableAllTweenEffect = <span class="literal">true</span>;</div><div class="line">    c1.selectedIndex = <span class="number">1</span>;</div><div class="line">    <span class="comment">// remember to restore</span></div><div class="line">    GearBase.disableAllTweenEffect = <span class="literal">false</span>;</div></pre></td></tr></table></figure>
<p>The way to set the linkage between the button and the controller through code is (<strong>Generally not necessary, try to complete the design in the editor</strong>）：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">button.relatedcontroller = aController;</div><div class="line">    button.relatedPageId = aController.GetPageId(<span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>You can set the property control with code: (<strong>Generally not necessary, try to complete the design in the editor</strong>）：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line"><span class="comment">// GearXXX objects are connections between controllers and properties. 0-display control, 1-position control, 2-size control,</span></div><div class="line">    <span class="comment">// 3-appearance control, 4-color control, 5-transition control, 6-text control, 7-icon control</span></div><div class="line">    GearDisplay gearDisplay = obj.GetGear (<span class="number">0</span>);</div><div class="line"></div><div class="line">    gearDisplay.controller = obj.parent.GetController (<span class="string">"c1"</span>);</div><div class="line">    <span class="comment">// Note that here is the id of the page, not the index or name. Can be converted by Controller.GetPageIdByName.</span></div><div class="line">    gearDisplay.pages = <span class="keyword">new</span> <span class="keyword">string</span> [] &#123;...&#125;;</div><div class="line"></div><div class="line">    GearXY gearXY = obj.GetGear (<span class="number">1</span>);</div><div class="line">    gearXY.tweenConfig.duration = <span class="number">0.5</span>f;</div></pre></td></tr></table></figure>

    
    <div class="footer">
      found mistake? Want to participate in editing?
      <a href="https://github.com/fairygui/en.fairygui.io/tree/master/src/guide/editor/controller.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="/docs/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->        
        <script src="/docs/js/css.escape.js"></script>
        <script src="/docs/js/common.js"></script>
    </body>
</html>
